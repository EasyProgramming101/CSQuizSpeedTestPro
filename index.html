<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CS Quiz Speed Test</title>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2ecc71;
            --danger: #e74c3c;
            --dark: #2c3e50;
            --light: #ecf0f1;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        h1 {
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        
        .topic-selection {
            margin: 2rem 0;
            text-align: center;
        }
        
        select {
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            border: 1px solid #ddd;
            background-color: white;
            font-size: 1rem;
            cursor: pointer;
            width: 100%;
            max-width: 300px;
            margin-top: 0.5rem;
        }
        
        .btn {
            display: inline-block;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0.5rem;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
        }
        
        .btn-danger {
            background-color: var(--danger);
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c0392b;
        }
        
        .btn-secondary {
            background-color: var(--secondary);
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #27ae60;
        }
        
        .quiz-container {
            display: none;
        }
        
        .quiz-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 1rem;
        }
        
        .quiz-progress, .quiz-score {
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .timer-container {
            width: 100%;
            height: 8px;
            background-color: #eee;
            border-radius: 4px;
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        
        .timer-bar {
            height: 100%;
            background-color: var(--primary);
            width: 100%;
            transition: width 0.1s linear;
        }
        
        .timer-bar.warning {
            background-color: #f39c12;
        }
        
        .timer-bar.danger {
            background-color: var(--danger);
        }
        
        .question-container {
            margin-bottom: 2rem;
        }
        
        .question {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
        }
        
        .option {
            padding: 1rem;
            background-color: var(--light);
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .option:hover {
            background-color: #d6dbdf;
        }
        
        .option.selected {
            background-color: var(--primary);
            color: white;
        }
        
        .option.correct {
            background-color: var(--secondary);
            color: white;
        }
        
        .option.incorrect {
            background-color: var(--danger);
            color: white;
        }
        
        .results {
            text-align: center;
            display: none;
        }
        
        .results h2 {
            margin-bottom: 1rem;
            color: var(--primary);
        }
        
        .score-display {
            font-size: 3rem;
            font-weight: 700;
            margin: 1rem 0;
            color: var(--dark);
        }
        
        .actions {
            margin-top: 2rem;
            text-align: center;
        }
        
        @media (min-width: 768px) {
            .options {
                grid-template-columns: 1fr 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Computer Science Quiz Speed Test</h1>
            <p>Test your knowledge with our timed quizzes on various Computer Science topics</p>
        </header>

        <div id="start-screen">
            <div class="topic-selection">
                <h2>Select a Topic</h2>
                <select id="topic-selector">
                    <option value="" disabled selected>Choose a topic</option>
                    <option value="algorithms">Algorithms & Data Structures</option>
                    <option value="programming">Programming Languages</option>
                    <option value="databases">Databases</option>
                    <option value="networking">Computer Networking</option>
                    <option value="operating_systems">Operating Systems</option>
                    <option value="software_engineering">Software Engineering</option>
                    <option value="computer_architecture">Computer Architecture</option>
                    <option value="ai">Artificial Intelligence</option>
                    <option value="web_development">Web Development</option>
                    <option value="cybersecurity">Cybersecurity</option>
                </select>
            </div>
            <div class="actions">
                <button id="start-btn" class="btn btn-primary">Start Quiz</button>
            </div>
        </div>

        <div id="quiz-container" class="quiz-container">
            <div class="quiz-info">
                <div class="quiz-progress">Question: <span id="current-question">1</span>/10</div>
                <div class="quiz-score">Score: <span id="score">0</span></div>
            </div>
            
            <div class="timer-container">
                <div id="timer-bar" class="timer-bar"></div>
            </div>
            
            <div class="question-container">
                <div id="question" class="question">Question text will appear here</div>
                <div id="options" class="options">
                    <!-- Options will be generated dynamically -->
                </div>
            </div>
        </div>

        <div id="results" class="results">
            <h2>Quiz Completed!</h2>
            <p>You answered <span id="correct-answers">0</span> out of 10 questions correctly.</p>
            <div class="score-display"><span id="final-score">0</span>%</div>
            <p id="performance-message">Performance message will appear here</p>
            <div class="actions">
                <button id="retry-btn" class="btn btn-secondary">Try Again</button>
                <button id="home-btn" class="btn btn-primary">Back to Home</button>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const startScreen = document.getElementById('start-screen');
        const quizContainer = document.getElementById('quiz-container');
        const resultsContainer = document.getElementById('results');
        const topicSelector = document.getElementById('topic-selector');
        const startBtn = document.getElementById('start-btn');
        const retryBtn = document.getElementById('retry-btn');
        const homeBtn = document.getElementById('home-btn');
        const questionElement = document.getElementById('question');
        const optionsElement = document.getElementById('options');
        const currentQuestionElement = document.getElementById('current-question');
        const scoreElement = document.getElementById('score');
        const timerBar = document.getElementById('timer-bar');
        const correctAnswersElement = document.getElementById('correct-answers');
        const finalScoreElement = document.getElementById('final-score');
        const performanceMessageElement = document.getElementById('performance-message');
        
        // Question Banks for different topics
        // These will be filled manually later
        const questionBanks = {
            algorithms: [],
            programming: [],
            databases: [],
            networking: [],
            operating_systems: [],
            software_engineering: [],
            computer_architecture: [],
            ai: [],
            web_development: [],
            cybersecurity: []
        };
        
        // Quiz state
        let currentQuiz = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let timerInterval;
        let timeLeft = 20;
        let selectedTopic = '';
        
        // Initialize the app
        function init() {
            startBtn.addEventListener('click', startQuiz);
            retryBtn.addEventListener('click', retryQuiz);
            homeBtn.addEventListener('click', goToHome);
            
            // Disable the start button if no topic is selected
            startBtn.disabled = true;
            
            topicSelector.addEventListener('change', function() {
                selectedTopic = this.value;
                startBtn.disabled = !selectedTopic;
            });
        }
        
        // Start the quiz
        function startQuiz() {
            if (!selectedTopic) {
                alert('Please select a topic first!');
                return;
            }
            
            // Check if questions are available for the selected topic
            if (!questionBanks[selectedTopic] || questionBanks[selectedTopic].length === 0) {
                alert('Questions for this topic are not available yet. Please try another topic.');
                return;
            }
            
            // Reset quiz state
            currentQuestionIndex = 0;
            score = 0;
            
            // Get random 10 questions from the selected topic
            currentQuiz = getRandomQuestions(questionBanks[selectedTopic], 10);
            
            // Hide start screen and show quiz container
            startScreen.style.display = 'none';
            quizContainer.style.display = 'block';
            resultsContainer.style.display = 'none';
            
            // Update score display
            scoreElement.textContent = score;
            
            // Load the first question
            loadQuestion();
        }
        
        // Get random questions from the question bank
        function getRandomQuestions(questionBank, count) {
            const shuffled = [...questionBank].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }
        
        // Load the current question
        function loadQuestion() {
            // Clear previous timer
            clearInterval(timerInterval);
            
            const currentQuestion = currentQuiz[currentQuestionIndex];
            
            // Update question number
            currentQuestionElement.textContent = currentQuestionIndex + 1;
            
            // Set question text
            questionElement.textContent = currentQuestion.question;
            
            // Clear previous options
            optionsElement.innerHTML = '';
            
            // Add options
            currentQuestion.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option');
                optionElement.textContent = option;
                optionElement.dataset.index = index;
                optionElement.addEventListener('click', selectOption);
                optionsElement.appendChild(optionElement);
            });
            
            // Start the timer
            startTimer();
        }
        
        // Start the timer for the current question
        function startTimer() {
            timeLeft = 20;
            timerBar.style.width = '100%';
            timerBar.className = 'timer-bar';
            
            timerInterval = setInterval(() => {
                timeLeft--;
                
                // Update timer bar
                const percentage = (timeLeft / 20) * 100;
                timerBar.style.width = `${percentage}%`;
                
                // Add warning classes
                if (timeLeft <= 10 && timeLeft > 5) {
                    timerBar.className = 'timer-bar warning';
                } else if (timeLeft <= 5) {
                    timerBar.className = 'timer-bar danger';
                }
                
                // Time's up
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    timeOut();
                }
            }, 1000);
        }
        
        // Handle time out
        function timeOut() {
            // Show correct answer
            const currentQuestion = currentQuiz[currentQuestionIndex];
            const options = document.querySelectorAll('.option');
            
            options.forEach((option, index) => {
                if (index === currentQuestion.answer) {
                    option.classList.add('correct');
                }
                option.removeEventListener('click', selectOption);
            });
            
            // Move to next question after a delay
            setTimeout(nextQuestion, 1500);
        }
        
        // Handle option selection
        function selectOption() {
            // Clear timer
            clearInterval(timerInterval);
            
            // Disable all options
            const options = document.querySelectorAll('.option');
            options.forEach(option => {
                option.removeEventListener('click', selectOption);
            });
            
            // Get selected option index
            const selectedIndex = parseInt(this.dataset.index);
            
            // Get current question
            const currentQuestion = currentQuiz[currentQuestionIndex];
            
            // Check if answer is correct
            const isCorrect = selectedIndex === currentQuestion.answer;
            
            // Add appropriate class
            if (isCorrect) {
                this.classList.add('correct');
                score++;
                scoreElement.textContent = score;
            } else {
                this.classList.add('incorrect');
                // Highlight correct answer
                options[currentQuestion.answer].classList.add('correct');
            }
            
            // Move to next question after a delay
            setTimeout(nextQuestion, 1500);
        }
        
        // Move to the next question or end the quiz
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < currentQuiz.length) {
                loadQuestion();
            } else {
                endQuiz();
            }
        }
        
        // End the quiz and show results
        function endQuiz() {
            quizContainer.style.display = 'none';
            resultsContainer.style.display = 'block';
            
            correctAnswersElement.textContent = score;
            const percentage = (score / currentQuiz.length) * 100;
            finalScoreElement.textContent = percentage.toFixed(0);
            
            // Set performance message based on score
            if (percentage >= 90) {
                performanceMessageElement.textContent = 'Excellent! You\'re a CS master!';
            } else if (percentage >= 70) {
                performanceMessageElement.textContent = 'Great job! You have a solid understanding of this topic.';
            } else if (percentage >= 50) {
                performanceMessageElement.textContent = 'Good effort! Keep studying to improve your knowledge.';
            } else {
                performanceMessageElement.textContent = 'Keep practicing! This topic needs more review.';
            }
        }
        
        // Retry the quiz with the same topic
        function retryQuiz() {
            startQuiz();
        }
        
        // Go back to the home/topic selection screen
        function goToHome() {
            resultsContainer.style.display = 'none';
            startScreen.style.display = 'block';
            selectedTopic = '';
            topicSelector.value = '';
            startBtn.disabled = true;
        }
        
        // Start the app
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
